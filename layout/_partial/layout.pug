- var title = __('title') !== 'title' && __('title') || config.title
- var description = page.description || page.title || config.description || ''
- var keywords = (config.keywords || []).join(',')
- if (page.tags && page.tags.data) keywords = page.tags.data.map(function(tag) {return tag.name;}).join(',')
- var author = config.email ? config.author + ',' + config.email : config.author
- var copyright = config.copyright || config.author

doctype html
html(lang=config.language)
  head
    meta(charset='UTF-8')
    meta(http-equiv="X-UA-Compatible" content="IE=edge")
    meta(name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1")
    meta(name="description" content=description)
    meta(name="keywords" content=keywords)
    meta(name="author" content=author)
    meta(name="copyright" content=copyright)
    meta(name='theme-color', content=theme.color.primary)
    title
      block title
        | #{title}
    include head.pug
    include config.pug
    each item in theme.cdn.css
      if item !== undefined
        link(rel='stylesheet', href=item)
    each item, name in theme.cdn.js
      if name === 'jquery'
        script(src=item)
      else
        script(src=item, defer)
    if theme.css !== undefined && theme.css.length > 0
      each url in theme.css
        link(rel='stylesheet', href=url_for(url))
  body
    canvas.fireworks
    //- global
    include ../_third-party/icon.pug
    include sidebar.pug
    include background.pug
    main#content-outer.sidebar-translate
      #content-inner.layout
        block content
    footer.sidebar-translate
      include footer.pug
    i#go-up(aria-hidden="true")
      +icon('icon-arrow-up-line')
    each url in theme.js
      script(src=url_for(url), defer)
    //- widget
    //- search
    if theme.local_search.enable || theme.algolia_search.enable
      include ../_widget/search/index.pug